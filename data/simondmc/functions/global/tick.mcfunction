### Global

# Quick item pickup
execute as @e[type=item,tag=pr.target] store result score @s sdmc.item-pickup-timer run data get entity @s PickupDelay
execute as @e[type=item,tag=pr.target,tag=!sdmc.display-item] unless score @s sdmc.item-pickup-timer matches ..10 run data merge entity @s {PickupDelay:10}

# Despawn items after 10 seconds
execute as @e[type=item,tag=pr.target,tag=!sdmc.display-item] run scoreboard players add @s sdmc.item-despawn-timer 1
execute as @e[type=item,tag=pr.target,tag=!sdmc.display-item] if score @s sdmc.item-despawn-timer matches 200.. run kill @s

# Remove ground items of that type near display items
execute at @e[type=item,tag=pr.target,tag=sdmc.display-bucket] run kill @e[type=item,tag=pr.target,distance=..3,tag=!sdmc.display-item,nbt={Item:{id:"minecraft:bucket"}}]
execute at @e[type=item,tag=pr.target,tag=sdmc.display-crossbow] run kill @e[type=item,tag=pr.target,distance=..3,tag=!sdmc.display-item,nbt={Item:{id:"minecraft:crossbow"}}]
execute at @e[type=item,tag=pr.target,tag=sdmc.display-arrow] run kill @e[type=item,tag=pr.target,distance=..3,tag=!sdmc.display-item,nbt={Item:{id:"minecraft:arrow"}}]

# Remove ground items of that type near backup give spots
execute at @e[type=axolotl,tag=pr.target,tag=sdmc.pond-axolotl] run kill @e[type=item,tag=pr.target,distance=..5,tag=!sdmc.display-item,nbt={Item:{id:"minecraft:bucket"}}]
execute at @e[type=axolotl,tag=pr.target,tag=sdmc.pond-axolotl] run kill @e[type=item,tag=pr.target,distance=..5,tag=!sdmc.display-item,nbt={Item:{id:"minecraft:water_bucket"}}]
execute at @e[type=axolotl,tag=pr.target,tag=sdmc.pond-axolotl] run kill @e[type=item,tag=pr.target,distance=..5,tag=!sdmc.display-item,nbt={Item:{id:"minecraft:axolotl_bucket"}}]
execute at @e[type=item,tag=pr.target,tag=sdmc.display-arrow] run kill @e[type=item,tag=pr.target,distance=..3,tag=!sdmc.display-item,nbt={Item:{id:"minecraft:crossbow"}}]

# Make sure player doesn't have >1 of any item
execute as @a[tag=pr.target] run function simondmc:global/item_limit

# Kill ground arrows after a few ticks
execute as @e[type=arrow,tag=pr.target,nbt={inGround:1b}] run scoreboard players add @s sdmc.arrow-timer 1
execute as @e[type=arrow,tag=pr.target] if score @s sdmc.arrow-timer matches 5.. run kill @s

# Lobby easter egg
item replace block ~4 ~33 ~-32 container.11 with paper{display:{Name:'{"text":""}',Lore:['[{"text":"██████","color":"#000000","italic":false},{"text":"██████","color":"#1CA300"},{"text":"██","color":"#179000"},{"text":"██","color":"#1CA300"},{"text":"██","color":"#000000"}]','[{"text":"██████","color":"#000000","italic":false},{"text":"██████","color":"#1CA300"},{"text":"██","color":"#179000"},{"text":"██","color":"#1CA300"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#000000","italic":false},{"text":"████","color":"#1CA300"},{"text":"██████","color":"#20B702"},{"text":"██","color":"#1EAE01"},{"text":"██","color":"#24C105"},{"text":"██","color":"#1CA300"}]','[{"text":"██","color":"#000000","italic":false},{"text":"████","color":"#1CA300"},{"text":"██████","color":"#20B702"},{"text":"██","color":"#1EAE01"},{"text":"██","color":"#24C105"},{"text":"██","color":"#1CA300"}]','[{"text":"██","color":"#0A4800","italic":false},{"text":"██","color":"#179000"},{"text":"████","color":"#20B702"},{"text":"██","color":"#1EAE01"},{"text":"████████","color":"#20B702"}]','[{"text":"██","color":"#0A4800","italic":false},{"text":"██","color":"#179000"},{"text":"████","color":"#20B702"},{"text":"██","color":"#1EAE01"},{"text":"████████","color":"#20B702"}]','[{"text":"██","color":"#1CA300","italic":false},{"text":"██","color":"#20B702"},{"text":"██","color":"#1EAE01"},{"text":"██","color":"#3FD621"},{"text":"██","color":"#42DF23"},{"text":"██","color":"#3FD621"},{"text":"██","color":"#42DF23"},{"text":"██","color":"#3DCD20"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#1CA300","italic":false},{"text":"██","color":"#20B702"},{"text":"██","color":"#1EAE01"},{"text":"██","color":"#3FD621"},{"text":"██","color":"#42DF23"},{"text":"██","color":"#3FD621"},{"text":"██","color":"#42DF23"},{"text":"██","color":"#3DCD20"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#1CA300","italic":false},{"text":"██","color":"#20B702"},{"text":"██","color":"#000000"},{"text":"██","color":"#42DF23"},{"text":"██","color":"#3DCD20"},{"text":"██","color":"#3FD621"},{"text":"██","color":"#000000"},{"text":"██","color":"#42DF23"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#1CA300","italic":false},{"text":"██","color":"#20B702"},{"text":"██","color":"#000000"},{"text":"██","color":"#42DF23"},{"text":"██","color":"#3DCD20"},{"text":"██","color":"#3FD621"},{"text":"██","color":"#000000"},{"text":"██","color":"#42DF23"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#1CA300","italic":false},{"text":"██","color":"#20B702"},{"text":"██","color":"#3FD621"},{"text":"██████","color":"#000000"},{"text":"██","color":"#42DF23"},{"text":"██","color":"#3FD621"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#1CA300","italic":false},{"text":"██","color":"#20B702"},{"text":"██","color":"#3FD621"},{"text":"██████","color":"#000000"},{"text":"██","color":"#42DF23"},{"text":"██","color":"#3FD621"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#1CA300","italic":false},{"text":"██","color":"#24C105"},{"text":"██","color":"#3FD621"},{"text":"██","color":"#42DF23"},{"text":"██","color":"#000000"},{"text":"██","color":"#E63D3D"},{"text":"██","color":"#3FD621"},{"text":"██","color":"#3DCD20"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#1CA300","italic":false},{"text":"██","color":"#24C105"},{"text":"██","color":"#3FD621"},{"text":"██","color":"#42DF23"},{"text":"██","color":"#000000"},{"text":"██","color":"#E63D3D"},{"text":"██","color":"#3FD621"},{"text":"██","color":"#3DCD20"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#000000","italic":false},{"text":"██","color":"#3FD621"},{"text":"██","color":"#3DCD20"},{"text":"████","color":"#3FD621"},{"text":"██","color":"#05CCE5"},{"text":"██","color":"#34B11C"},{"text":"████","color":"#000000"}]','[{"text":"██","color":"#000000","italic":false},{"text":"██","color":"#3FD621"},{"text":"██","color":"#3DCD20"},{"text":"████","color":"#3FD621"},{"text":"██","color":"#05CCE5"},{"text":"██","color":"#34B11C"},{"text":"████","color":"#000000"}]','[{"text":"██","color":"#1D2025","italic":false},{"text":"██","color":"#1D2225"},{"text":"██","color":"#68818D"},{"text":"██","color":"#34B11C"},{"text":"██","color":"#3FD621"},{"text":"██","color":"#67818C"},{"text":"██","color":"#1D2025"},{"text":"████","color":"#000000"}]','[{"text":"██","color":"#1D2025","italic":false},{"text":"██","color":"#1D2225"},{"text":"██","color":"#68818D"},{"text":"██","color":"#34B11C"},{"text":"██","color":"#3FD621"},{"text":"██","color":"#67818C"},{"text":"██","color":"#1D2025"},{"text":"████","color":"#000000"}]','[{"text":"████","color":"#1D2025","italic":false},{"text":"██","color":"#92AACC"},{"text":"████","color":"#68818E"},{"text":"██","color":"#92AACC"},{"text":"████","color":"#1D2025"},{"text":"██","color":"#000000"}]','[{"text":"████","color":"#1D2025","italic":false},{"text":"██","color":"#92AACC"},{"text":"████","color":"#68818E"},{"text":"██","color":"#92AACC"},{"text":"████","color":"#1D2025"},{"text":"██","color":"#000000"}]']}}
item replace block ~4 ~33 ~-32 container.15 with grass_block{display:{Name:'{"text":""}',Lore:['[{"text":"██████","color":"#000000","italic":false},{"text":"██","color":"#956B4D"},{"text":"██","color":"#815A42"},{"text":"██","color":"#623E30"},{"text":"██","color":"#815A42"},{"text":"██","color":"#956B4D"},{"text":"████","color":"#000000"}]','[{"text":"██████","color":"#000000","italic":false},{"text":"██","color":"#956B4D"},{"text":"██","color":"#815A42"},{"text":"██","color":"#623E30"},{"text":"██","color":"#815A42"},{"text":"██","color":"#956B4D"},{"text":"████","color":"#000000"}]','[{"text":"██","color":"#000000","italic":false},{"text":"██","color":"#815A42"},{"text":"████","color":"#724836"},{"text":"██████","color":"#815A42"},{"text":"██","color":"#724836"},{"text":"██","color":"#815A42"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#000000","italic":false},{"text":"██","color":"#815A42"},{"text":"████","color":"#724836"},{"text":"██████","color":"#815A42"},{"text":"██","color":"#724836"},{"text":"██","color":"#815A42"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#956B4D","italic":false},{"text":"██","color":"#815A42"},{"text":"██","color":"#784E3D"},{"text":"████","color":"#815A42"},{"text":"██","color":"#724836"},{"text":"████████","color":"#815A42"}]','[{"text":"██","color":"#956B4D","italic":false},{"text":"██","color":"#815A42"},{"text":"██","color":"#784E3D"},{"text":"████","color":"#815A42"},{"text":"██","color":"#724836"},{"text":"████████","color":"#815A42"}]','[{"text":"██","color":"#724836","italic":false},{"text":"██","color":"#815A42"},{"text":"██","color":"#623E30"},{"text":"██","color":"#9B7451"},{"text":"████","color":"#9D7652"},{"text":"██","color":"#815A42"},{"text":"████","color":"#9D7652"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#724836","italic":false},{"text":"██","color":"#815A42"},{"text":"██","color":"#623E30"},{"text":"██","color":"#9B7451"},{"text":"████","color":"#9D7652"},{"text":"██","color":"#815A42"},{"text":"████","color":"#9D7652"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#724836","italic":false},{"text":"██","color":"#815A42"},{"text":"██","color":"#724836"},{"text":"██","color":"#815A42"},{"text":"██","color":"#303030"},{"text":"████","color":"#9D7652"},{"text":"██","color":"#303030"},{"text":"██","color":"#815A42"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#724836","italic":false},{"text":"██","color":"#815A42"},{"text":"██","color":"#724836"},{"text":"██","color":"#815A42"},{"text":"██","color":"#303030"},{"text":"████","color":"#9D7652"},{"text":"██","color":"#303030"},{"text":"██","color":"#815A42"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#815A42","italic":false},{"text":"██","color":"#734937"},{"text":"██","color":"#93694B"},{"text":"████","color":"#815A42"},{"text":"████","color":"#956B4D"},{"text":"████","color":"#815A42"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#815A42","italic":false},{"text":"██","color":"#734937"},{"text":"██","color":"#93694B"},{"text":"████","color":"#815A42"},{"text":"████","color":"#956B4D"},{"text":"████","color":"#815A42"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#000000","italic":false},{"text":"████████","color":"#956B4D"},{"text":"████","color":"#303030"},{"text":"████","color":"#956B4D"},{"text":"██","color":"#000000"}]','[{"text":"██","color":"#000000","italic":false},{"text":"████████","color":"#956B4D"},{"text":"████","color":"#303030"},{"text":"████","color":"#956B4D"},{"text":"██","color":"#000000"}]','[{"text":"████","color":"#000000","italic":false},{"text":"████████████","color":"#956B4D"},{"text":"████","color":"#000000"}]','[{"text":"████","color":"#000000","italic":false},{"text":"████████████","color":"#956B4D"},{"text":"████","color":"#000000"}]','[{"text":"██","color":"#000000","italic":false},{"text":"████","color":"#9D7652"},{"text":"██","color":"#815A42"},{"text":"████","color":"#956B4D"},{"text":"██","color":"#815A42"},{"text":"██","color":"#9D7652"},{"text":"████","color":"#000000"}]','[{"text":"██","color":"#000000","italic":false},{"text":"████","color":"#9D7652"},{"text":"██","color":"#815A42"},{"text":"████","color":"#956B4D"},{"text":"██","color":"#815A42"},{"text":"██","color":"#9D7652"},{"text":"████","color":"#000000"}]','[{"text":"██████","color":"#9D7652","italic":false},{"text":"██","color":"#724836"},{"text":"████","color":"#815A42"},{"text":"██","color":"#724836"},{"text":"████","color":"#9D7652"},{"text":"██","color":"#000000"}]','[{"text":"██████","color":"#9D7652","italic":false},{"text":"██","color":"#724836"},{"text":"████","color":"#815A42"},{"text":"██","color":"#724836"},{"text":"████","color":"#9D7652"},{"text":"██","color":"#000000"}]']}}
clear @a[tag=pr.target] paper
clear @a[tag=pr.target] grass_block